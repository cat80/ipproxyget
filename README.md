# 使用前必看
获取并自动检测可用的代理，如果需要使用http代理，但又不想付费的同学可以尝试一下。

当前代理检测源使用http://www.xicidaili.com/代理，并且通过http://ip.chinaz.com/getip.aspx进行检测使用。

主要使用的第三库有requests,bs和threadpool。

获取到的代理的质量以及数据取决于代理源的质量，程序本身会不停的获取可检测的IP。把可用的IP加入可用IP池中，同时也会持续检测可用IP的可用性，以尽大可能保证IP的可用性。

如果获取到的IP质量不理想，可以尝试换取IP源或检测时长。

后续也会持续增加更多的IP源，以及优化检测方法。

# 如何使用
首先确保已经安装了依赖库，全局初始化proxy_ip_get类，调用开始检测方法。具体代码可以参考：
```python
    ip = proxy_ip(run_model='debug')
    # ips = ip.get_url_ips("http://www.xicidaili.com/nn")
    # for item in ips:
    #     print("{0}:{1}".format(item[0],item[1]))
    ip.start_hander()

    check_count = 0
    avaliable_count = 0
    while True:
        input('press any key contiune')
        ip.show_current_info()
        proxies_ip = ip.get_proxies()
        print("获取代理IP信息为：{0}".format(proxies_ip))
        try:
            requestHeader = {
                'User-Agent': "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36"}
            text = requests.get("http://ip.chinaz.com/getip.aspx", timeout=5, proxies=proxies_ip,
                                headers=requestHeader).text
            print(text)
        except Exception as e:
            print(e)

```

构造方法提供run_model可选配置项，如果为debug则会在控制台显示IP获取的日志，如果需要在产品中使用，建议不设置该选项.

支行效果如下：

```text
可用IP:7,{'117.36.103.170': ['8118', 1, 0], '182.86.146.137': ['8118', 1, 0], '61.143.22.75': ['808', 1, 0], '122.225.17.123': ['8080', 1, 0], '116.231.33.9': ['8118', 1, 0], '27.213.255.145': ['8118', 1, 0], '58.222.20.32': ['808', 1, 0]},待检测ip:34,{'223.241.79.50': ['8010', 0, 1], '117.31.26.209': ['808', 0, 1], '106.56.102.156': ['808', 0, 1], '121.31.148.176': ['8123', 0, 1], '114.252.162.160': ['8118', 0, 1], '27.10.119.88': ['8118', 0, 1], '121.236.181.43': ['8118', 0, 1], '115.203.196.232': ['36749', 0, 1], '114.229.244.230': ['43137', 0, 1], '112.114.97.39': ['8118', 0, 1], '175.174.122.234': ['80', 0, 1], '42.176.45.184': ['80', 0, 0], '122.114.31.177': ['808', 0, 1], '61.135.217.7': ['80', 0, 1], '106.112.164.47': ['808', 0, 0], '115.230.181.91': ['8118', 0, 1], '27.194.82.159': ['8118', 0, 0], '60.5.14.158': ['80', 0, 0], '39.88.36.115': ['8118', 0, 1], '42.243.143.97': ['8118', 0, 1], '221.200.123.108': ['80', 0, 0], '219.138.58.86': ['3128', 0, 0], '221.4.133.67': ['53281', 0, 0], '112.114.99.136': ['8118', 0, 1], '218.73.137.106': ['39560', 0, 0], '49.85.10.182': ['22022', 0, 0], '115.225.118.250': ['8118', 0, 0], '118.254.154.50': ['3128', 0, 0], '49.84.115.34': ['8118', 0, 0], '114.246.234.195': ['8118', 0, 0], '123.206.55.132': ['8118', 0, 0], '125.40.47.18': ['80', 0, 0], '122.7.45.229': ['808', 0, 0], '180.118.242.157': ['61234', 0, 0]},已经失效IP:0,{}
获取代理IP信息为：{'http': 'http://61.143.22.75:808', 'https': 'http://61.143.22.75:808'}
{ip:'61.143.22.75',address:'广东省江门市 电信'}
press any key contiune
```

最后，enjoy it...